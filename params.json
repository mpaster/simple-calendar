{
  "name": "Simple-calendar",
  "tagline": "a calendar plugin.just for study.",
  "body": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n<title>calendar</title>\r\n<style>\r\nul{\r\n\t/*margin:0;*/\r\n\tpadding:0;\r\n\tlist-style:none;\r\n}\r\nul li{\r\n\tborder:1px #c90 solid;\r\n\theight:30px;\r\n}\r\n.active_date{\r\n\tbackground-color:#7CD43A;\r\n}\r\n.date_li{\r\n\tfloat:left; \r\n\twidth:98px;\r\n}\r\n.date_active_li{\r\n\tfloat:left; \r\n\twidth:98px; \r\n\tbackground-color:#C90;\r\n}\r\n</style>\r\n<script src=\"http://code.jquery.com/jquery-latest.js\"></script>\r\n<script>\r\nvar bigMonth = new Array(1,3,5,7,8,10,12);\r\nvar smallMonth = new Array(4,6,9,11);\r\nvar weekArray = new Array(\"星期日\",\"星期一\",\"星期二\",\"星期三\",\"星期四\",\"星期五\",\"星期六\");\r\nvar time = new Date();\r\n$(document).ready(function(){\r\n\tpinTimestamp();\r\n\tcountRTWeekOfFirst();\r\n\tunfoldCalendar(countMonthSize(RTMonth), RTWeekOfFirst)\r\n})\r\n// \r\n// 0,default formate,\"yyyy-MM-dd\",如 \"2015-12-04\"\r\n//1,\"yyyy/MM/dd\",如 \"2015/12/04\"\r\n//2,\"yyyy年MM月dd日\",如 \"2015年12月04日\"\r\nvar datePattern = 0;\r\n// now\r\nvar nowYear = time.getFullYear();\r\nvar nowMonth = time.getMonth()+1;\r\nvar nowDay = time.getDate();\r\nvar nowWeek = time.getDay();\r\n//全局变量，实时数据，RT(real-time)\r\nvar RTYear = time.getFullYear();\r\nvar RTMonth = time.getMonth()+1;\r\nvar RTDay = time.getDate();\r\nvar RTWeek = time.getDay();\r\nvar RTWeekOfFirst = -1;//月份一号的星期几\r\n// unfold calendar\r\nfunction unfoldCalendar(monthSize, RTWeekOfFirst){\r\n\tvar daysUl = $(\"#days_ul\");\r\n\tdaysUl.empty();//显示一月\r\n\tfor(var i = 0; i < monthSize; i++){\r\n\t\tif(i==0){\r\n\t\t\tfor(var j = 0; j < weekArray.length; j++){\r\n\t\t\t\tdaysUl.append(\"<li class='date_li'>\"+weekArray[j]+\"</li>\");\r\n\t\t\t}\r\n\t\t\tif(RTWeekOfFirst==0)\r\n\t\t\t\tRTWeekOfFirst = 7;\r\n\t\t\tfor(var j = 0; j < RTWeekOfFirst; j++){\r\n\t\t\t\tdaysUl.append(\"<li class='date_li' id='front-\"+(j+1)+\"'></li>\");\r\n\t\t\t}\r\n\t\t\ttoolOfCalendar((i+1), \"#days_ul\");\r\n\t\t}else{\r\n\t\t\ttoolOfCalendar((i+1), \"#days_ul\");\r\n\t\t\tif(i==(monthSize-1)){\r\n\t\t\t\tfor(var j = 0; j < (42-monthSize-RTWeekOfFirst); j++){\r\n\t\t\t\t\tdaysUl.append(\"<li class='date_li' id='back-\"+(j+1)+\"'></li>\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tdaysUl.append(\"<div style='clear:both;'></div>\");\t\r\n}\r\n//工具方法，仅为了减少代码冗余\r\nfunction toolOfCalendar(index, id){\r\n\tvar ul = $(id);\r\n\tif(RTYear==nowYear && RTMonth==nowMonth && index==nowDay){\r\n\t\tul.append(\"<li class='date_active_li' id='\"+index+\"' onclick='selectDate(this)' value='\"+formateDate(index,datePattern)+\"'>\"+index+\"</li>\");\r\n\t}else{\r\n\t\tul.append(\"<li class='date_li' id='\"+index+\"' onclick='selectDate(this)' value='\"+formateDate(index,datePattern)+\"'>\"+index+\"</li>\");\r\n\t}\r\n}\r\n//选择日期提取 value\r\nfunction selectDate(li){\r\n\tvar formateRTWeek;\r\n\t$(\"#days_ul li\").removeClass(\"active_date\");\r\n\t$(li).addClass(\"active_date\");\r\n\tRTDay = $(li).attr(\"id\");\r\n\t$(\"#NeedDate\").val($(li).attr(\"value\"));\r\n\tpinTimestamp();\r\n}\r\n//格式化日期\r\nfunction formateDate(iDay, datePattern){\r\n\tvar formateRTMonth;\r\n\tvar formateRTDay;\r\n\t\r\n\tif(RTMonth < 10){\r\n\t\tformateRTMonth = \"0\"+RTMonth;\r\n\t}else{\r\n\t\tformateRTMonth = RTMonth;\r\n\t}\r\n\tif(iDay < 10){\r\n\t\tformateRTDay = \"0\"+iDay;\r\n\t}else{\r\n\t\tformateRTDay = iDay;\r\n\t}\r\n\tswitch(datePattern){\r\n\t\tcase 1:\r\n\t\t\tdatePattern = RTYear+\"/\"+formateRTMonth+\"/\"+formateRTDay;\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tdatePattern = RTYear+\"年\"+formateRTMonth+\"月\"+formateRTDay+\"日\";\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tdatePattern = RTYear+\"-\"+formateRTMonth+\"-\"+formateRTDay;\r\n\t}\r\n\treturn datePattern;\r\n}\r\n// go back today\r\nfunction resetRTDate(){\r\n\tRTYear = nowYear;\r\n\tRTMonth = nowMonth;\r\n\tRTDay = nowDay;\r\n\tRTWeek = nowWeek;\r\n\t\r\n\tcountRTWeekOfFirst();\r\n\tunfoldCalendar(countMonthSize(RTMonth), RTWeekOfFirst)\r\n\tpinTimestamp();\r\n}\r\n// last month\r\nfunction previousStep(){\r\n\tmonthDecrease();\r\n\tunfoldCalendar(countMonthSize(RTMonth), RTWeekOfFirst)\r\n\tpinTimestamp();\r\n}\r\n// next month\r\nfunction nextStep(){\r\n\tmonthIncrease();\r\n\tunfoldCalendar(countMonthSize(RTMonth), RTWeekOfFirst)\r\n\tpinTimestamp();\r\n}\r\n// timestamp\r\nfunction pinTimestamp(){\r\n\t$(\"#currentDate\").empty().append(formateDate(RTDay, 2));\r\n\t//不显示今天的星期\r\n\t//for(var i = 0; i < 7; i++){\r\n//\t\tformateRTWeek = weekArray[RTWeek]\r\n//\t}\r\n//\t$(\"#currentWeek\").empty().append(formateRTWeek);\r\n}\r\n//根据 RTDay 计算当月一号的星期几\r\nfunction countRTWeekOfFirst(){\r\n\tvar differCurrentRTWeek = RTWeek - (RTDay-1)%7;\r\n\tif(differCurrentRTWeek >= 0){\r\n\t\tRTWeekOfFirst = differCurrentRTWeek;\r\n\t}else{\r\n\t\tRTWeekOfFirst = differCurrentRTWeek + 7;\r\n\t}\r\n}\r\n//月份递减，计算该月首日的星期\r\nfunction monthDecrease(){\r\n\t//只许传入1-12前提下\r\n\tif(RTMonth==1){\r\n\t\tRTMonth = 12;\r\n\t\tRTYear--;\r\n\t}else{\r\n\t\tRTMonth--;\r\n\t}\r\n\t//计算递减后月份一号的星期,（只可能余0,1,2,4）\r\n\tvar differRTWeek = (RTWeekOfFirst - countMonthSize(RTMonth)%7);\r\n\tif(differRTWeek >= 0){\r\n\t\tRTWeekOfFirst = differRTWeek;\r\n\t}else{\r\n\t\tRTWeekOfFirst = differRTWeek + 7;\r\n\t}\r\n}\r\n//月份递加，计算该月首日的星期\r\nfunction monthIncrease(){\r\n\t//计算递加后月份一号的星期,（只可能余0,1,2,4）\r\n\tvar differRTWeek = RTWeekOfFirst + countMonthSize(RTMonth)%7;\r\n\tif(differRTWeek < 7){\r\n\t\tRTWeekOfFirst = differRTWeek;\r\n\t}else{\r\n\t\tRTWeekOfFirst = differRTWeek - 7;\r\n\t}\r\n\t//只许传入1-12前提下\r\n\tif(RTMonth==12){\r\n\t\tRTMonth = 1;\r\n\t\tRTYear++;\r\n\t}else{\r\n\t\tRTMonth++;\r\n\t}\r\n}\r\n//判断月份天数，用到 jquery 的 $.inArray()方法\r\nfunction countMonthSize(month){\r\n\tvar monthSize = 0;\r\n\tif($.inArray(month, bigMonth)>=0){\r\n\t\tmonthSize = 31;\r\n\t}else if($.inArray(month, smallMonth)>=0){\r\n\t\tmonthSize = 30;\r\n\t}else{\r\n\t\tif(isLeapYear(RTYear)){\r\n\t\t\tmonthSize = 29;\r\n\t\t}else{\r\n\t\t\tmonthSize = 28;\r\n\t\t}\r\n\t}\r\n\treturn monthSize;\r\n}\r\n//判断年份\r\nfunction isLeapYear(year){\r\n\tif(year%100==0){\r\n\t\tif(year%400==0){\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}else if(year%4==0){\r\n\t\treturn true;\r\n\t}else{\r\n\t\treturn false;\r\n\t}\r\n}\r\n</script>\r\n</head>\r\n\r\n<body>\r\n\r\n<div id=\"u-calendar-container\">\r\n\t<div id=\"timestampContainer\"><span id=\"currentDate\"></span><span id=\"currentWeek\"></span></div>\r\n\t<ul id=\"days_ul\" style=\"width:700px\"></ul>\r\n\t<input type=\"button\" onclick=\"previousStep()\" value=\"<<\" />\r\n\t<input type=\"button\" onclick=\"resetRTDate()\" value=\"OO\" />\r\n\t<input type=\"button\" onclick=\"nextStep()\" value=\">>\" />\r\n\t<input type=\"text\" id=\"NeedDate\" />\r\n</div>\r\n\r\n</body>\r\n</html>",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}